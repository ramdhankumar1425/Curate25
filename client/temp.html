<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>Sign In with Auth0</title>
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"
        />

        <!-- import tailwind -->
        <link
            href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
            rel="stylesheet"
        />
    </head>
    <body>
        <!--[if IE 8]>
            <script src="//cdnjs.cloudflare.com/ajax/libs/ie8/0.2.5/ie8.js"></script>
        <![endif]-->

        <!--[if lte IE 9]>
            <script src="https://cdn.auth0.com/js/base64.js"></script>
            <script src="https://cdn.auth0.com/js/es5-shim.min.js"></script>
        <![endif]-->
        <link
            rel="preload"
            as="image"
            href="https://res.cloudinary.com/dlemd0ijw/image/upload/v1738056103/login-bg_itk1a8.png"
        />

        <div class="flex h-screen bg-gray-900 text-white">
            <div
                class="w-full md:w-1/2 flex flex-col justify-center items-center bg-[#0E0F11] px-10"
            >
                <!-- Logo -->
                <div class="mb-10">
                    <svg
                        width="178"
                        height="36"
                        viewBox="0 0 178 36"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <g clip-path="url(#clip0_34_95)">
                            <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M0.621226 3.31055C0.449644 3.31055 0.310547 3.44964 0.310547 3.62123V18.6892C0.310547 18.8608 0.449641 18.9999 0.621226 18.9999H7.21385C3.40125 18.9999 0.310547 22.0906 0.310547 25.9032V34.3785C0.310547 34.55 0.449641 34.6892 0.621226 34.6892H15.6892C15.8608 34.6892 15.9999 34.55 15.9999 34.3785V27.7859C15.9999 31.5985 19.0906 34.6892 22.9032 34.6892H31.3785C31.55 34.6892 31.6892 34.55 31.6892 34.3785V19.3105C31.6892 19.139 31.55 18.9999 31.3785 18.9999H24.7859C28.5985 18.9999 31.6892 15.9092 31.6892 12.0966V3.62123C31.6892 3.44964 31.55 3.31055 31.3785 3.31055H16.3105C16.139 3.31055 15.9999 3.44964 15.9999 3.62123V10.2138C15.9999 6.40125 12.9092 3.31055 9.09657 3.31055H0.621226ZM15.9999 25.9032V18.9999H22.9032C19.0906 18.9999 15.9999 15.9092 15.9999 12.0966V18.9999H9.09657C12.9092 18.9999 15.9999 22.0906 15.9999 25.9032Z"
                                fill="#33A1FD"
                            />
                            <mask
                                id="mask0_34_95"
                                style="mask-type: luminance"
                                maskUnits="userSpaceOnUse"
                                x="0"
                                y="3"
                                width="32"
                                height="32"
                            >
                                <path d="M32 3H0V35H32V3Z" fill="white" />
                                <path
                                    fill-rule="evenodd"
                                    clip-rule="evenodd"
                                    d="M0.621226 3.31055C0.449644 3.31055 0.310547 3.44964 0.310547 3.62123V18.6892C0.310547 18.8608 0.449641 18.9999 0.621226 18.9999H7.21385C3.40125 18.9999 0.310547 22.0906 0.310547 25.9032V34.3785C0.310547 34.55 0.449641 34.6892 0.621226 34.6892H15.6892C15.8608 34.6892 15.9999 34.55 15.9999 34.3785V27.7859C15.9999 31.5985 19.0906 34.6892 22.9032 34.6892H31.3785C31.55 34.6892 31.6892 34.55 31.6892 34.3785V19.3105C31.6892 19.139 31.55 18.9999 31.3785 18.9999H24.7859C28.5985 18.9999 31.6892 15.9092 31.6892 12.0966V3.62123C31.6892 3.44964 31.55 3.31055 31.3785 3.31055H16.3105C16.139 3.31055 15.9999 3.44964 15.9999 3.62123V10.2138C15.9999 6.40125 12.9092 3.31055 9.09657 3.31055H0.621226ZM15.9999 25.9032V18.9999H22.9032C19.0906 18.9999 15.9999 15.9092 15.9999 12.0966V18.9999H9.09657C12.9092 18.9999 15.9999 22.0906 15.9999 25.9032Z"
                                    fill="black"
                                />
                            </mask>
                            <g mask="url(#mask0_34_95)">
                                <path
                                    d="M0.46693 3.62129C0.46693 3.5355 0.536478 3.46595 0.622269 3.46595V3.15527C0.364893 3.15527 0.15625 3.36392 0.15625 3.62129H0.46693ZM0.46693 18.6893V3.62129H0.15625V18.6893H0.46693ZM0.622269 18.8446C0.536478 18.8446 0.46693 18.775 0.46693 18.6893H0.15625C0.15625 18.9466 0.364893 19.1553 0.622269 19.1553V18.8446ZM7.21489 18.8446H0.622269V19.1553H7.21489V18.8446ZM0.46693 25.9032C0.46693 22.1764 3.4881 19.1553 7.21489 19.1553V18.8446C3.31651 18.8446 0.15625 22.0049 0.15625 25.9032H0.46693ZM0.46693 34.3786V25.9032H0.15625V34.3786H0.46693ZM0.622269 34.5339C0.536478 34.5339 0.46693 34.4643 0.46693 34.3786H0.15625C0.15625 34.6358 0.364893 34.8446 0.622269 34.8446V34.5339ZM15.6902 34.5339H0.622269V34.8446H15.6902V34.5339ZM15.8456 34.3786C15.8456 34.4643 15.776 34.5339 15.6902 34.5339V34.8446C15.9476 34.8446 16.1562 34.6358 16.1562 34.3786H15.8456ZM15.8456 27.786V34.3786H16.1562V27.786H15.8456ZM22.9042 34.5339C19.1774 34.5339 16.1562 31.5127 16.1562 27.786H15.8456C15.8456 31.6843 19.0058 34.8446 22.9042 34.8446V34.5339ZM31.3796 34.5339H22.9042V34.8446H31.3796V34.5339ZM31.5349 34.3786C31.5349 34.4643 31.4653 34.5339 31.3796 34.5339V34.8446C31.6368 34.8446 31.8456 34.6358 31.8456 34.3786H31.5349ZM31.5349 19.3106V34.3786H31.8456V19.3106H31.5349ZM31.3796 19.1553C31.4653 19.1553 31.5349 19.2248 31.5349 19.3106H31.8456C31.8456 19.0532 31.6368 18.8446 31.3796 18.8446V19.1553ZM24.7869 19.1553H31.3796V18.8446H24.7869V19.1553ZM31.5349 12.0966C31.5349 15.8234 28.5137 18.8446 24.7869 18.8446V19.1553C28.6853 19.1553 31.8456 15.995 31.8456 12.0966H31.5349ZM31.5349 3.62129V12.0966H31.8456V3.62129H31.5349ZM31.3796 3.46595C31.4653 3.46595 31.5349 3.5355 31.5349 3.62129H31.8456C31.8456 3.36392 31.6368 3.15527 31.3796 3.15527V3.46595ZM16.3116 3.46595H31.3796V3.15527H16.3116V3.46595ZM16.1562 3.62129C16.1562 3.5355 16.2258 3.46595 16.3116 3.46595V3.15527C16.0542 3.15527 15.8456 3.36392 15.8456 3.62129H16.1562ZM16.1562 10.2139V3.62129H15.8456V10.2139H16.1562ZM9.09761 3.46595C12.8244 3.46595 15.8456 6.48713 15.8456 10.2139H16.1562C16.1562 6.31554 12.996 3.15527 9.09761 3.15527V3.46595ZM0.622269 3.46595H9.09761V3.15527H0.622269V3.46595ZM16.1562 25.9032V18.9999H15.8456V25.9032H16.1562ZM16.0009 19.1553H22.9042V18.8446H16.0009V19.1553ZM22.9042 18.8446C19.1774 18.8446 16.1562 15.8234 16.1562 12.0966H15.8456C15.8456 15.995 19.0058 19.1553 22.9042 19.1553V18.8446ZM15.8456 12.0966V18.9999H16.1562V12.0966H15.8456ZM16.0009 18.8446H9.09761V19.1553H16.0009V18.8446ZM9.09761 19.1553C12.8244 19.1553 15.8456 22.1764 15.8456 25.9032H16.1562C16.1562 22.0049 12.996 18.8446 9.09761 18.8446V19.1553Z"
                                    fill="#33A1FD"
                                />
                            </g>
                        </g>
                        <path
                            d="M41.632 23.096C41.632 15.752 46.48 10.568 53.488 10.568C59.968 10.568 64.384 14.168 65.008 19.88H59.152C58.48 17.192 56.512 15.8 53.728 15.8C49.984 15.8 47.488 18.632 47.488 23.096C47.488 27.56 49.792 30.344 53.536 30.344C56.464 30.344 58.528 28.904 59.152 26.312H65.056C64.336 31.832 59.728 35.624 53.536 35.624C46.336 35.624 41.632 30.632 41.632 23.096ZM85.0146 11.288H90.8706V35H85.4466L85.0146 31.832C83.5746 34.088 80.5026 35.624 77.3346 35.624C71.8626 35.624 68.6466 31.928 68.6466 26.12V11.288H74.5026V24.056C74.5026 28.568 76.2786 30.392 79.5426 30.392C83.2386 30.392 85.0146 28.232 85.0146 23.72V11.288ZM111.319 11.192V16.616H109.159C104.935 16.616 102.295 18.872 102.295 23.48V35H96.439V11.336H101.959L102.295 14.792C103.303 12.44 105.559 10.856 108.727 10.856C109.543 10.856 110.359 10.952 111.319 11.192ZM120.921 35.624C115.881 35.624 112.809 32.696 112.809 28.232C112.809 23.864 115.977 21.128 121.593 20.696L128.697 20.168V19.64C128.697 16.424 126.777 15.128 123.801 15.128C120.345 15.128 118.425 16.568 118.425 19.064H113.433C113.433 13.928 117.657 10.568 124.089 10.568C130.473 10.568 134.409 14.024 134.409 20.6V35H129.273L128.841 31.496C127.833 33.944 124.617 35.624 120.921 35.624ZM122.841 31.208C126.441 31.208 128.745 29.048 128.745 25.4V24.152L123.801 24.536C120.153 24.872 118.761 26.072 118.761 27.992C118.761 30.152 120.201 31.208 122.841 31.208ZM147.418 35H141.562V16.184H137.002V11.288H141.562V3.896H147.418V11.288H152.026V16.184H147.418V35ZM165.56 35.624C158.504 35.624 153.56 30.488 153.56 23.144C153.56 15.704 158.408 10.568 165.368 10.568C172.472 10.568 176.984 15.32 176.984 22.712V24.488L159.128 24.536C159.56 28.712 161.768 30.824 165.656 30.824C168.872 30.824 170.984 29.576 171.656 27.32H177.08C176.072 32.504 171.752 35.624 165.56 35.624ZM165.416 15.368C161.96 15.368 159.848 17.24 159.272 20.792H171.176C171.176 17.528 168.92 15.368 165.416 15.368Z"
                            fill="white"
                        />
                        <defs>
                            <clipPath id="clip0_34_95">
                                <rect
                                    width="32"
                                    height="32"
                                    fill="white"
                                    transform="translate(0 3)"
                                />
                            </clipPath>
                        </defs>
                    </svg>
                </div>

                <div class="w-full flex items-center flex-col max-w-md mt-5">
                    <h2 class="text-2xl font-satoshi mb-4">
                        Create your account
                    </h2>
                    <p class="text-xs text-slate-400 mb-6">
                        Already have an account?
                        <a href="#" class="text-gray-300 underline">Sign in</a>
                    </p>
                    <div class="space-y-3 mt-3 max-w-80 mb-4">
                        <button
                            id="btn-google"
                            class="w-full bg-gray-700 text-[#dbd9d4] font-light rounded-lg py-2 px-4 border border-gray-500 focus:outline-none focus:ring-0"
                        >
                            Sign up with Google</button
                        ><button
                            id="btn-github"
                            class="w-full bg-gray-700 text-[#dbd9d4] font-light rounded-lg py-2 px-4 border border-gray-500 focus:outline-none focus:ring-0"
                        >
                            Sign up with Github</button
                        ><button
                            id="btn-figma"
                            class="w-full bg-gray-700 text-[#dbd9d4] font-light rounded-lg py-2 px-4 border border-gray-500 focus:outline-none focus:ring-0"
                        >
                            Sign up with Figma
                        </button>
                    </div>
                    <div class="flex items-center justify-center my-6">
                        <span id="TextLine" class="text-gray-400 font-medium"
                            >OR</span
                        >
                    </div>
                    <form class="space-y-4 max-w-80">
                        <input
                            id="email"
                            type="email"
                            placeholder="name@example.com"
                            class="w-full bg-gray-700 text-[#dbd9d4] font-light rounded-lg py-2 px-4 border border-gray-500 focus:outline-none focus:ring-0"
                        />
                        <input
                            id="password"
                            type="password"
                            placeholder="password"
                            class="w-full bg-gray-700 text-[#dbd9d4] font-light rounded-lg py-2 px-4 border border-gray-500 focus:outline-none focus:ring-0"
                        />
                        <div class="flex items-center text-xs text-gray-400">
                            <input type="checkbox" class="mr-2 bg-gray-800" />
                            <span>
                                Agree to our
                                <a href="#" class="text-gray-300 underline"
                                    >Terms of Service</a
                                >
                                and
                                <a href="#" class="text-gray-300 underline"
                                    >Privacy Policy</a
                                >
                            </span>
                        </div>
                        <button
                            id="btn-login"
                            class="w-full rounded-lg py-2 text-gray-900 hover:bg-gray-200 bg-gray-100 duration-150"
                        >
                            Sign in
                        </button>
                    </form>
                </div>
            </div>
            <div
                class="hidden md:flex w-1/2 h-full items-center justify-center relative"
            >
                <img
                    src="https://res.cloudinary.com/dlemd0ijw/image/upload/v1738056103/login-bg_itk1a8.png"
                    alt="back-drop"
                    class="w-full h-full"
                />
                <h1 class="absolute text-xl font-intent text-center px-8">
                    Curate builds your app or site from just a few words.
                </h1>
            </div>
        </div>

        <script src="https://cdn.auth0.com/js/lock/13.0/lock.min.js"></script>
        <script src="https://cdn.auth0.com/js/auth0/9.28/auth0.min.js"></script>
        <script src="https://cdn.auth0.com/js/polyfills/1.0/object-assign.min.js"></script>
        <script>
            window.addEventListener("load", function () {
                var config = JSON.parse(
                    decodeURIComponent(escape(window.atob("@@config@@")))
                );

                var leeway = config.internalOptions.leeway;
                if (leeway) {
                    var convertedLeeway = parseInt(leeway);

                    if (!isNaN(convertedLeeway)) {
                        config.internalOptions.leeway = convertedLeeway;
                    }
                }

                var params = {
                    overrides: {
                        __tenant: config.auth0Tenant,
                        __token_issuer: config.authorizationServer.issuer,
                    },
                    domain: config.auth0Domain,
                    clientID: config.clientID,
                    redirectUri: config.callbackURL,
                    responseType: "code",
                    scope: config.internalOptions.scope,
                    _csrf: config.internalOptions._csrf,
                    state: config.internalOptions.state,
                    _intstate: config.internalOptions._intstate,
                };

                var triggerCaptcha = null;
                var signupCaptcha = null;
                var webAuth = new auth0.WebAuth(params);
                var databaseConnection = "Username-Password-Authentication";
                var captcha = webAuth.renderCaptcha(
                    document.querySelector(".captcha-container"),
                    null,
                    (error, payload) => {
                        if (payload) {
                            triggerCaptcha = payload.triggerCaptcha;
                        }
                    }
                );

                function login(e) {
                    e.preventDefault();
                    var button = this;
                    var username = document.getElementById("email").value;
                    var password = document.getElementById("password").value;
                    button.disabled = true;

                    var request = () => {
                        webAuth.login(
                            {
                                realm: databaseConnection,
                                username: username,
                                password: password,
                                captcha: captcha.getValue(),
                            },
                            function (err) {
                                if (err) displayError(err);
                                button.disabled = false;
                            }
                        );
                    };

                    if (triggerCaptcha) {
                        triggerCaptcha(request);
                    } else {
                        request();
                    }
                }

                function toggleSignupLogin(e) {
                    e.preventDefault();
                    var loginSignupLink = e.target;
                    var loginBtn = document.getElementById("btn-login");
                    var googleBtn = document.getElementById("btn-google");
                    var signupBtn = document.getElementById("btn-signup");
                    var msg = document.getElementById("login-signup-msg");
                    loginBtn.classList.toggle("invisible");
                    googleBtn.classList.toggle("invisible");
                    signupBtn.classList.toggle("invisible");

                    if (signupBtn.classList.contains("invisible")) {
                        loginSignupLink.innerHTML = "Sign Up";
                        msg.innerHTML = "Don't have an account?";

                        captcha = webAuth.renderCaptcha(
                            document.querySelector(".captcha-container"),
                            null,
                            (error, payload) => {
                                if (payload) {
                                    triggerCaptcha = payload.triggerCaptcha;
                                }
                            }
                        );
                    } else {
                        loginSignupLink.innerHTML = "Login";
                        msg.innerHTML = "Already have an account?";

                        signupCaptcha = webAuth.renderSignupCaptcha(
                            document.querySelector(".captcha-container"),
                            null,
                            (error, payload) => {
                                if (payload) {
                                    triggerCaptcha = payload.triggerCaptcha;
                                }
                            }
                        );
                    }
                }

                function signup() {
                    var button = this;
                    var email = document.getElementById("email").value;
                    var password = document.getElementById("password").value;
                    button.disabled = true;

                    var request = () => {
                        webAuth.redirect.signupAndLogin(
                            {
                                connection: databaseConnection,
                                email: email,
                                password: password,
                                captcha: signupCaptcha.getValue(),
                            },
                            function (err) {
                                if (err) displayError(err);
                                button.disabled = false;
                            }
                        );
                    };

                    if (triggerCaptcha) {
                        triggerCaptcha(request);
                    } else {
                        request();
                    }
                }

                function loginWithGoogle() {
                    webAuth.authorize(
                        {
                            connection: "google-oauth2",
                        },
                        function (err) {
                            if (err) displayError(err);
                        }
                    );
                }

                function loginWithGithub() {
                    webAuth.authorize(
                        {
                            connection: "github",
                        },
                        function (err) {
                            if (err) displayError(err);
                        }
                    );
                }

                function displayError(err) {
                    captcha.reload();
                    var errorMessage = document.getElementById("error-message");
                    errorMessage.innerText = err.policy || err.description;
                    errorMessage.style.display = "block";
                }

                document
                    .getElementById("btn-login")
                    .addEventListener("click", login);
                document
                    .getElementById("btn-google")
                    .addEventListener("click", loginWithGoogle);
                document
                    .getElementById("btn-github")
                    .addEventListener("click", loginWithGithub);
                // document
                //     .getElementById("btn-signup")
                //     .addEventListener("click", signup);
                // document
                //     .getElementById("link-signup-login")
                //     .addEventListener("click", toggleSignupLogin);
            });
        </script>
    </body>
</html>
